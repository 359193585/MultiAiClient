<Window x:Class="MultiAIClient.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MultiAIClient"
        mc:Ignorable="d"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="我的多 AI 客户端"
        Icon="Icons/MyAppIcon.ico"
        ShowInTaskbar="True"
        MinHeight="400"
        Width="1440">

    <Window.Resources>
        <ContextMenu x:Key="TabItemContextMenu">
            <MenuItem Header="刷新" Click="RefreshMenuItem_Click"/>
            <MenuItem Header="浏览器打开" Click="OpenInBrowserMenuItem_Click"/>
            <!-- 可以继续添加其他菜单项，如"关闭页签"、"关闭其他页签"等 -->
        </ContextMenu>
    </Window.Resources>


    <Grid Name="main_grid">

        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="5"/>
            <RowDefinition Height="Auto" MinHeight="100"/>
        </Grid.RowDefinitions>

        <!-- 第1行：输入区域容器 -->
        <TabControl Grid.Row="0" Name="AIAggregatorTabs"/>

        <GridSplitter 
        Grid.Row="1" 
        Height="5"           
        VerticalAlignment="Top" 
        HorizontalAlignment="Stretch" 
        Background="LightGray"
        ResizeDirection="Rows"
        ShowsPreview="True"
        Margin="0,-3,0,0"/>

        <!-- 统一输入区域 -->
        <!-- 第2行：输入区域容器 -->
        <Border Grid.Row="2" Background="#f5f5f5" BorderBrush="#ddd" BorderThickness="0,1,0,0" Padding="10">
            <Grid x:Name="bottom">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 多行输入框 -->
                <TextBox Grid.Column="0" x:Name="UniversalInputTextBox"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     VerticalScrollBarVisibility="Auto"
                     MinHeight="300"
                     MaxHeight="320"
                     FontSize="14"
                     Padding="8"/>
                <!-- 输入框右边的button列 -->
                <Border Grid.Column="1" Background="#f5f5f5" BorderBrush="#ddd" BorderThickness="0,1,0,0" Padding="10">
                    <Grid Name="allButtons" Width="240">
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="0*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>


                        <Border Grid.Column="0"  Background="#f5f5f5" BorderBrush="#ddd" BorderThickness="0,1,0,0" Padding="10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="6*"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <Button Grid.Row="0" x:Name="UniversalSendButton" Content="发送" 
                                 Margin="5,0,0,0" Padding="5,5" Background="#3963D9" Foreground="White"
                                Click="UniversalSendButton_Click"/>
                                <CheckBox x:Name="checkBoxSendOnly"  Grid.Row="1" IsChecked="False" Content="只发本窗口" 
                                           VerticalAlignment="Center"
          VerticalContentAlignment="Center" Background="#FFC3C9DA" Foreground="Black" FontSize="14"/>
                                <CheckBox x:Name="checkBoxClean" Grid.Row="2" IsChecked="True"  Content="发送后清空" 
                                            VerticalAlignment="Center"
          VerticalContentAlignment="Center" Background="#FFC3C9DA" Foreground="Black" FontSize="14"/>
                            </Grid>
                        </Border>
                        
                        
                        
                        
                        
                        
                        
                        
                        <Border Grid.Column="1" >
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="40"/>
                                    <RowDefinition Height="40"/>
                                </Grid.RowDefinitions>
                                <Button Grid.Row="0" x:Name="prevMesgButton" Content="上一问题"
                                        Margin="5,10,5,5" Padding="15,5" Background="#857DC0" Foreground="White"
                                        Click="ButtonPrevMesg_Click"/>
                                <Button Grid.Row="1" x:Name="nextMesgNutton" Content="下一问题"
                                        Margin="5,5,5,10" Padding="15,5" Background="#857DC0" Foreground="White"
                                        Click="ButtonNextMesg_Click"/>
                                <Label Grid.Row="2" x:Name="mesgCount" Content="/"
                                       Margin="5,5,5,10" Padding="15,5"  Foreground="Black" HorizontalContentAlignment="Right"
                                       />
                                <Button Grid.Row="3" x:Name="exportMesg" Content="导出全部问题"
                                        Margin="5,5,5,10" Padding="15,5" Background="#857DC0" Foreground="White"
                                        Click="ButtonExportMesg_Click"/>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>


            </Grid>
        </Border>





    </Grid>


</Window>
